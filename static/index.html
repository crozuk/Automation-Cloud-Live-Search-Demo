<!DOCTYPE html>
<html>
<head>
  <title>Live Search Demo</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
<h1>Automation Cloud</h1>
<h2>Live Search Test</h2>
<p>Enter search term below -</p>

<form action="javascript:void(0);" onsubmit="myFunction()" method="post">
  Input: <input type="text" name="search_term">
  <input type="submit" value="Submit">
</form>
<div id="results">

</div>

<script>
function myFunction() {
  var form_input = $("input[name='search_term").val();
  response = $.post( "search", { search_term: form_input }, function( data ) {
  console.log(data);
  result_set = data.data;
  console.log(result_set);
  $('#results').html(function(){
    var html = '';
    $.each(result_set, function(i,item){
          html += '<h3>' + item.title + '</h3>';
          html += '<p>' + item.snippet + '</p>';
    });
    return html;
});
}, "json");
  var array = [];
  console.log(form_input)
  var html = "<p>" + "Loading Search Results..." + "</p>";
  $("#results").html(html);
  $( "#results p" ).click(function() {
  selected = $("#results p").text();
  var array = [];
    array.push({
        title: selected
  });
  console.log(array);
});
}

</script>

</body>
</html>
